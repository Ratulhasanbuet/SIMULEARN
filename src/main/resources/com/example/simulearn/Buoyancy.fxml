<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Line?>
<?import javafx.scene.shape.Polygon?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.text.TextFlow?>

<AnchorPane fx:id="rootPane" prefHeight="800.0" prefWidth="1439.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.simulearn.BuoyancyController">

   <children>
      <ImageView fitHeight="809.0" fitWidth="1500.0" layoutX="5.0" layoutY="-25.0" pickOnBounds="true" preserveRatio="true">
         <image>
            <Image url="@../../../Images/BuoyancyBG.png" />
         </image>
      </ImageView>
      <Label layoutX="280.0" layoutY="154.0" text="Select Material:">
         <font>
            <Font size="18.0" />
         </font></Label>
      <ChoiceBox fx:id="MaterialChoiceBox" layoutX="419.0" layoutY="153.0" onAction="#onMaterialSelected" prefHeight="30.0" prefWidth="150" />
      <Button layoutX="965.0" layoutY="24.0" mnemonicParsing="false" onAction="#onResetSelected" text="Reset" textFill="#d90bcf">
         <font>
            <Font size="18.0" />
         </font></Button>
      <Label layoutX="860.0" layoutY="153.0" text="Select Liquid:">
         <font>
            <Font size="18.0" />
         </font></Label>
      <ChoiceBox fx:id="LiquidChoiceBox" layoutX="991.0" layoutY="152.0" onAction="#onLiquidSelected" prefHeight="30.0" prefWidth="150.0" />
      <Button layoutX="419.0" layoutY="24.0" mnemonicParsing="false" onAction="#onDropBallSelected" text="Drop Ball" textFill="#950ea6">
         <font>
            <Font size="18.0" />
         </font></Button>
      <Label layoutX="329.0" layoutY="213.0" prefHeight="30.0" prefWidth="105.0" text="Material Density" textFill="#d41414">
         <font>
            <Font size="14.0" />
         </font></Label>
      <Label layoutX="1053.0" layoutY="218.0" text="Liquid Density" textFill="#dc1d1d">
         <font>
            <Font size="14.0" />
         </font></Label>
      <Label fx:id="MaterialDensityText" layoutX="329.0" layoutY="249.0" prefHeight="20.0" prefWidth="68.0" textFill="#d91212">
         <font>
            <Font size="14.0" />
         </font></Label>
      <Label fx:id="LiquidDensityText" layoutX="1042.0" layoutY="249.0" prefHeight="20.0" prefWidth="98.0" textFill="#dc1717">
         <font>
            <Font size="14.0" />
         </font></Label>
      <ImageView fitHeight="270.0" fitWidth="238.0" layoutX="593.0" layoutY="379.0" pickOnBounds="true" preserveRatio="true">
         <image>
            <Image url="@../../../Images/BuoyancyJar.jpg" />
         </image>
      </ImageView>
      <Rectangle fx:id="Liquid" arcHeight="35.0" arcWidth="80.0" fill="#f5f7fa" height="140.0" layoutX="646.0" layoutY="485.0" stroke="BLACK" strokeType="INSIDE" width="129.0" />
      <Circle fx:id="Material" fill="#f2f3f4" layoutX="715.0" layoutY="363.0" radius="28.0" stroke="BLACK" strokeType="INSIDE" />
      <Line fx:id="weightVector" endX="299.0" endY="31.0" layoutX="416.0" layoutY="477.0" startX="299.0" startY="-81.80001831054688" stroke="#e71818" strokeWidth="5.0" />
      
      <Polygon fx:id="weightArrow" fill="#dc1a1a" layoutX="467.0" layoutY="455.0" points="249.0, 79.20001220703125, 265.0, 55.199981689453125, 230.5999755859375, 55.199981689453125" stroke="WHITESMOKE" strokeType="INSIDE" />
      <Line fx:id="buoyancyVector" endX="-2.20001220703125" endY="6.0" layoutX="717.0" layoutY="273.0" startX="-2.20001220703125" startY="-20.399993896484375" stroke="#1b1bd1" strokeWidth="5.0" />
      <Polygon fx:id="buoyancyArrow" fill="#1c44e4" layoutX="469.0" layoutY="213.0" points="231.79998779296875, 53.199981689453125, 261.4000244140625, 53.199981689453125, 246.20001220703125, 30.0" stroke="WHITESMOKE" strokeType="INSIDE" />
      <CheckBox fx:id="showVector" layoutX="124.0" layoutY="519.0" mnemonicParsing="false" onAction="#onCheckBoxSelected" prefHeight="48.0" prefWidth="204.0" text="Show forces" textFill="#df2424">
         <font>
            <Font size="18.0" />
         </font>
      </CheckBox>
      <Button fx:id="showBtn" layoutX="20" layoutY="20" onAction="#showExplanation" text="Show Explanation" textFill="#ef1a1a">
         <font>
            <Font size="18.0" />
         </font></Button>

      <Button fx:id="hideBtn" layoutX="180" layoutY="20" onAction="#hideExplanation" style="-fx-background-color: #E81123; -fx-text-fill: white;" text="Hide Explanation" visible="false" />

      <VBox fx:id="explanationBox" layoutX="20" layoutY="60" spacing="12" style="-fx-background-color: #f8f8f8; -fx-padding: 15; -fx-border-radius: 8; -fx-border-color: #cccccc; -fx-pref-width: 560;" visible="false">

         <!-- THEORY -->
         <Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="ðŸ“˜ Theoretical Explanation" />

         <TextFlow>
            <Text style="-fx-font-size: 14;" text="This simulation demonstrates the concept of buoyancy and Archimedesâ€™ Principle. When an object is placed in a liquid, it experiences an upward buoyant force equal to the weight of the liquid it displaces. This force acts opposite to gravity and determines whether the object sinks, floats, or stays suspended. If the object's density is greater than the liquid's, it sinks; if lower, it floats. When both forces balance â€” buoyant force equals weight â€” the object reaches equilibrium. The dynamic vectors shown here represent the balance between weight (downward) and buoyancy (upward), visually explaining the conditions for floating and sinking." wrappingWidth="520" />
         </TextFlow>

         <Separator />

         <!-- QUIZ -->
         <Label style="-fx-font-size: 16; -fx-font-weight: bold;" text="ðŸ§© Quick Quiz" />

         <Label style="-fx-font-size: 14;" text="A solid sphere is dropped into a liquid and comes to rest partially submerged. Which statement is correct at equilibrium?" wrapText="true" />

         <VBox spacing="4">
            <RadioButton fx:id="optionA" text="A. The buoyant force is greater than the weight of the sphere." />
            <RadioButton fx:id="optionB" text="B. The buoyant force is less than the weight of the sphere." />
            <RadioButton fx:id="optionC" text="C. The buoyant force is equal to the weight of the displaced liquid." />
            <RadioButton fx:id="optionD" text="D. The buoyant force is equal to the weight of the sphere." />
         </VBox>

         <Button onAction="#checkAnswer" style="-fx-background-color: #0078D7; -fx-text-fill: white;" text="Check Answer" />

         <Label fx:id="resultLabel" style="-fx-font-size: 14; -fx-font-weight: bold;" text="" />
      </VBox>
      <Label fx:id="weight" layoutX="871.0" layoutY="598.0" text="Weight" textFill="#cc1414">
         <font>
            <Font name="System Bold" size="18.0" />
         </font>
      </Label>
      <Label fx:id="buoyancy" layoutX="871.0" layoutY="304.0" text="Buoyant Force" textFill="#1c26d9">
         <font>
            <Font name="System Bold" size="18.0" />
         </font>
      </Label>
   </children>
</AnchorPane>
